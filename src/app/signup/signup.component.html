<!-- <a routerLink="/new-user">Take me straight home</a> -->
<div class="container" style="margin-top: 1%">
  <h2 style="text-align: center;">Welcome to BookSavvie!</h2>
  <div [hidden]="securityQuestionFormVisibility">
    <h4 style="text-align: center;">Let's get you onboard...</h4>
    <form (ngSubmit)="onSignupFormSubmit()" #signupForm="ngForm" style="margin-top: 3%;" class="form-signin">
      <div class="form-group">
        <label for="name">Username</label>
        <div class="small font-weight-light"><code>(no spaces please)</code></div>
        <input type="text" class="form-control" id="username" [(ngModel)]="signupModel.username" minlength="3" maxlength="20" name="Username" required autofocus>
        <p style="color: red" [hidden]="!usernameExists">Username is already taken.</p>
      </div>

      <div class="form-group">
        <label for="name">Email</label>
        <div class="small font-weight-light"><code>(personal email preferred)</code></div>
        <input type="email" class="form-control" id="email" pattern="^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$" [(ngModel)]="signupModel.email" name="email" required>
        <p style="color: red" [hidden]="!emailExists">Email is not available. Please try something else.</p>
      </div>
  
      <div class="form-group">
        <label for="alterEgo">Password</label>
        <div class="small font-weight-light"><code>(must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters)</code></div>
        <input type="password" class="form-control" id="password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$"
            title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"      
            minlength="8" maxlength="20" [(ngModel)]="signupModel.password" name="Password" required>
      </div>
  
      <div class="form-group">
        <label for="alterEgo">Confirm Password</label>
        <div class="small font-weight-light"><code>(retype your above password)</code></div>
        <input type="password" class="form-control" id="repeatPassword" minlength="8" maxlength="20" [(ngModel)]="signupModel.repeatPassword" name="repeatPassword" required>
        <p style="color: red" [hidden]="!passwordsDontMatch">Passwords don't match</p>
      </div>
  
      <!-- <div class="form-group">
        <label for="alterEgo">Region</label>
        <select [(ngModel)]="signupModel.region" [ngModelOptions]="{standalone: true}" class="form-control">
          <option *ngFor="let region of regionList" class="dropdown-item" [(ngValue)]="region">{{region}}</option>
        </select>
      </div> -->
  
      <button type="submit" class="btn btn-success" style="width: 100%;margin-top: 4%;" [disabled]="!signupForm.form.valid || signupButtonClicked">{{signupButtonText}}</button>
      <!-- [disabled]="!signupForm.form.valid" -->
  
      <div class="form-group" style="text-align: center;margin-top: 4px;">
        Already a user? <a routerLink="/login">Login!</a>
      </div>
  
    </form>
  </div>
  

  <!-- Secondary Security Question Answer Form -->
  <div [hidden]="!securityQuestionFormVisibility">
    <form (ngSubmit)="onSecurityQuestionFormSubmit()" #securityQuestionForm="ngForm" style="margin-top: 7%;">
      <h5 style="text-align: center;">One more step, just in case you forget your password...</h5>
      <div class="form-group">
        <label for="alterEgo">Security Question</label>
        <!-- <input type="password" class="form-control" id="region" [(ngModel)]="model.region" name="region" required> -->
        <select [(ngModel)]="securityQuestionModel.securityQuestion" [ngModelOptions]="{standalone: true}" class="form-control">
          <option *ngFor="let question of securityQuestionsList" class="dropdown-item" [(ngValue)]="question">{{question}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="name">Security Answer</label>
        <input type="text" class="form-control" id="securityAnswer" [(ngModel)]="securityQuestionModel.securityAnswer" name="securityAnswer" required autofocus>
      </div>
  
      <button type="submit" class="btn btn-success" style="width: 100%;margin-top: 4%;" [disabled]="!securityQuestionForm.form.valid">{{securityQuestionButtonText}}</button>
      <!-- [disabled]="!signupForm.form.valid" -->
  
    </form>
  </div>

</div>